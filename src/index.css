@import "tailwindcss";

/* Custom game styles */
:root {
  font-family: system-ui, Avenir, Helvetica, Arial, sans-serif;
  line-height: 1.5;
  font-weight: 400;
  color-scheme: light dark;
  /* Prevent pull-to-refresh on mobile */
  overscroll-behavior: none;
}

body {
  margin: 0;
  min-width: 320px;
  min-height: 100dvh; /* dvh = dynamic viewport height, accounts for iOS Safari toolbar */
  min-height: 100vh; /* fallback for older browsers */
  /* Prevent text selection on game elements */
  -webkit-user-select: none;
  user-select: none;
  /* Smooth scrolling */
  scroll-behavior: smooth;
}

/* Allow text selection on inputs */
input, textarea, select {
  -webkit-user-select: auto;
  user-select: auto;
}

/* Mobile touch improvements */
button, .clickable {
  -webkit-tap-highlight-color: transparent;
  touch-action: manipulation;
}

/* Safe area support for notched phones */
.safe-area-top {
  padding-top: env(safe-area-inset-top);
}

.safe-area-bottom {
  padding-bottom: env(safe-area-inset-bottom);
}

/* Fixed viewport container — forces flex children to fit within
   the visible area. On iOS Safari, dvh accounts for the toolbar.
   Content scrolling is handled by overflow-auto on inner panels. */
.viewport-fixed {
  height: 100vh;  /* fallback for older browsers */
  height: 100dvh; /* dynamic viewport height — excludes Safari toolbar */
  overflow: hidden;
}

/* Move tab highlight animation */
@keyframes tab-pulse {
  0%, 100% { box-shadow: inset 0 0 0 0 rgba(234, 179, 8, 0); }
  50% { box-shadow: inset 0 0 20px 2px rgba(234, 179, 8, 0.3); }
}

.tab-highlight {
  animation: tab-pulse 2s ease-in-out infinite;
  background-color: rgba(234, 179, 8, 0.15);
  border-top: 2px solid #eab308;
}

/* Mobile-friendly scrollable tables */
.scroll-touch {
  -webkit-overflow-scrolling: touch;
  overflow-x: auto;
}

/* Maneuver color classes */
.maneuver-red { --maneuver-color: #dc2626; --maneuver-text: white; }
.maneuver-blue { --maneuver-color: #2563eb; --maneuver-text: white; }
.maneuver-orange { --maneuver-color: #ea580c; --maneuver-text: white; }
.maneuver-green { --maneuver-color: #16a34a; --maneuver-text: white; }
.maneuver-yellow { --maneuver-color: #eab308; --maneuver-text: black; }
.maneuver-white { --maneuver-color: #f5f5f5; --maneuver-text: black; }
.maneuver-black { --maneuver-color: #1f2937; --maneuver-text: white; }
.maneuver-brown { --maneuver-color: #78350f; --maneuver-text: white; }

/* Animation for combat results */
@keyframes pulse-damage {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.05); }
}

.animate-damage {
  animation: pulse-damage 0.3s ease-in-out;
}

/* Force scrollbar visibility on WebKit/Safari (macOS hides them by default) */
.overflow-auto::-webkit-scrollbar {
  -webkit-appearance: none;
  width: 8px;
  height: 8px;
}
.overflow-auto::-webkit-scrollbar-thumb {
  background-color: rgba(255, 255, 255, 0.25);
  border-radius: 4px;
}
.overflow-auto::-webkit-scrollbar-thumb:hover {
  background-color: rgba(255, 255, 255, 0.4);
}
.overflow-auto::-webkit-scrollbar-track {
  background-color: rgba(0, 0, 0, 0.1);
}

/* Responsive font sizes */
@media (max-width: 640px) {
  html {
    font-size: 14px;
  }
}
